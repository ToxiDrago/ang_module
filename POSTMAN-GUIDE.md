# üöÄ Postman Guide - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API

## üìã **–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç:**

### 1. **–ò–º–ø–æ—Ä—Ç –∫–æ–ª–ª–µ–∫—Ü–∏–∏:**

1. –û—Ç–∫—Ä–æ–π—Ç–µ Postman
2. –ù–∞–∂–º–∏—Ç–µ **Import** ‚Üí **File** ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ `postman-collection.json`
3. –ö–æ–ª–ª–µ–∫—Ü–∏—è "Angular + NestJS API Collection" –±—É–¥–µ—Ç –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–∞

### 2. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö:**

1. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–ª–ª–µ–∫—Ü–∏—é
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **Variables**
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `baseUrl` = `http://localhost:3000`

## üîê **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏:**

### **–®–∞–≥ 1: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**

1. –í—ã–±–µ—Ä–∏—Ç–µ **üîê Authentication** ‚Üí **Register User**
2. –ù–∞–∂–º–∏—Ç–µ **Send**
3. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** Status 201 + JWT —Ç–æ–∫–µ–Ω
4. **–¢–æ–∫–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—Å—è** –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `authToken`

### **–®–∞–≥ 2: –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É**

1. –í—ã–±–µ—Ä–∏—Ç–µ **üîê Authentication** ‚Üí **Login User**
2. –ù–∞–∂–º–∏—Ç–µ **Send**
3. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** Status 200 + JWT —Ç–æ–∫–µ–Ω
4. **–¢–æ–∫–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—Å—è** –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `authToken`

## üë• **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Users API:**

### **Get All Users**

- **–ú–µ—Ç–æ–¥:** GET
- **URL:** `{{baseUrl}}/users`
- **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** Status 200 + —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### **Create User**

- **–ú–µ—Ç–æ–¥:** POST
- **URL:** `{{baseUrl}}/users`
- **Body:**

```json
{
  "login": "newuser",
  "password": "password123",
  "email": "newuser@example.com",
  "cardNumber": "1234567890"
}
```

### **Get User by ID**

- **–ú–µ—Ç–æ–¥:** GET
- **URL:** `{{baseUrl}}/users/:id`
- **–ó–∞–º–µ–Ω–∏—Ç–µ:** `USER_ID_HERE` –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

## üèñÔ∏è **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Tours API:**

### **Get All Tours**

- **–ú–µ—Ç–æ–¥:** GET
- **URL:** `{{baseUrl}}/tours`
- **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** Status 200 + —Å–ø–∏—Å–æ–∫ —Ç—É—Ä–æ–≤

### **Generate Test Tours**

- **–ú–µ—Ç–æ–¥:** POST
- **URL:** `{{baseUrl}}/tours/generate`
- **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** Status 200 + —Å–æ–∑–¥–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç–æ–≤—ã–µ —Ç—É—Ä—ã

### **Create Tour**

- **–ú–µ—Ç–æ–¥:** POST
- **URL:** `{{baseUrl}}/tours`
- **Body:**

```json
{
  "name": "Amazing Beach Tour",
  "description": "Beautiful beach vacation",
  "tourOperator": "Beach Tours Inc",
  "price": "1500",
  "img": "beach.jpg",
  "type": "single",
  "date": "2024-08-15"
}
```

## üìã **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Orders API:**

### **Get All Orders**

- **–ú–µ—Ç–æ–¥:** GET
- **URL:** `{{baseUrl}}/orders`
- **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** Status 200 + —Å–ø–∏—Å–æ–∫ –∑–∞–∫–∞–∑–æ–≤

### **Create Order**

- **–ú–µ—Ç–æ–¥:** POST
- **URL:** `{{baseUrl}}/orders`
- **Body:**

```json
{
  "age": "25",
  "birthDay": "1999-01-01",
  "cardNumber": "1234567890",
  "tourId": "TOUR_ID_HERE",
  "userId": "USER_ID_HERE"
}
```

## üîÑ **–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**

### **1. –ë–∞–∑–æ–≤–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**

```bash
1. Register User ‚Üí –ø–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω
2. Login User ‚Üí –ø–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω
3. Get All Users ‚Üí –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø
4. Get All Tours ‚Üí –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø
5. Get All Orders ‚Üí –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø
```

### **2. CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏:**

```bash
1. Create User ‚Üí —Å–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
2. Get User by ID ‚Üí –ø–æ–ª—É—á–∏—Ç—å —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
3. Update User ‚Üí –æ–±–Ω–æ–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
4. Delete User ‚Üí —É–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```

### **3. –†–∞–±–æ—Ç–∞ —Å —Ç—É—Ä–∞–º–∏:**

```bash
1. Generate Test Tours ‚Üí —Å–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ —Ç—É—Ä—ã
2. Get All Tours ‚Üí –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–∑–¥–∞–Ω–Ω—ã–µ —Ç—É—Ä—ã
3. Create Tour ‚Üí —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Ç—É—Ä
4. Get Tour by ID ‚Üí –ø–æ–ª—É—á–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ç—É—Ä
```

## üìä **–û–∂–∏–¥–∞–µ–º—ã–µ –æ—Ç–≤–µ—Ç—ã:**

### **–£—Å–ø–µ—à–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã:**

- **200 OK** - GET –∑–∞–ø—Ä–æ—Å—ã, –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- **201 Created** - —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤
- **204 No Content** - —É–¥–∞–ª–µ–Ω–∏–µ

### **–û—à–∏–±–∫–∏:**

- **401 Unauthorized** - –Ω–µ—Ç —Ç–æ–∫–µ–Ω–∞ –∏–ª–∏ –Ω–µ–≤–µ—Ä–Ω—ã–π —Ç–æ–∫–µ–Ω
- **404 Not Found** - —Ä–µ—Å—É—Ä—Å –Ω–µ –Ω–∞–π–¥–µ–Ω
- **400 Bad Request** - –Ω–µ–≤–µ—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

## üîß **–û—Ç–ª–∞–¥–∫–∞:**

### **–ü—Ä–æ–±–ª–µ–º–∞: 401 Unauthorized**

**–†–µ—à–µ–Ω–∏–µ:**

1. –í—ã–ø–æ–ª–Ω–∏—Ç–µ **Login User** –∏–ª–∏ **Register User**
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ç–æ–∫–µ–Ω —Å–æ—Ö—Ä–∞–Ω–∏–ª—Å—è –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `authToken`
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ –∑–∞–ø—Ä–æ—Å–µ –µ—Å—Ç—å –∑–∞–≥–æ–ª–æ–≤–æ–∫ `Authorization: Bearer {{authToken}}`

### **–ü—Ä–æ–±–ª–µ–º–∞: 404 Not Found**

**–†–µ—à–µ–Ω–∏–µ:**

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ backend –∑–∞–ø—É—â–µ–Ω –Ω–∞ `http://localhost:3000`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ URL –∑–∞–ø—Ä–æ—Å–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ ID —Ä–µ—Å—É—Ä—Å–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç

### **–ü—Ä–æ–±–ª–µ–º–∞: 400 Bad Request**

**–†–µ—à–µ–Ω–∏–µ:**

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç JSON –≤ body –∑–∞–ø—Ä–æ—Å–∞
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω—ã
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö

## üéØ **–ü–æ–ª–µ–∑–Ω—ã–µ —Å–æ–≤–µ—Ç—ã:**

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ** –¥–ª—è ID —Ä–µ—Å—É—Ä—Å–æ–≤
2. **–°–æ—Ö—Ä–∞–Ω—è–π—Ç–µ —Ç–æ–∫–µ–Ω—ã** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ —Ç–µ—Å—Ç—ã
3. **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏** –æ—Ç–≤–µ—Ç–æ–≤
4. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Environment** –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏–π
5. **–°–æ–∑–¥–∞–≤–∞–π—Ç–µ —Ç–µ—Å—Ç—ã** –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ—Ç–≤–µ—Ç–æ–≤

## üìù **–ü—Ä–∏–º–µ—Ä —Ç–µ—Å—Ç–∞ –≤ Postman:**

```javascript
// –¢–µ—Å—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —É—Å–ø–µ—à–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞
pm.test("Status code is 200", function () {
  pm.response.to.have.status(200);
});

// –¢–µ—Å—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –æ—Ç–≤–µ—Ç–∞
pm.test("Response has required fields", function () {
  const response = pm.response.json();
  pm.expect(response).to.have.property("id");
  pm.expect(response).to.have.property("name");
});

// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞
if (pm.response.code === 200) {
  const response = pm.response.json();
  pm.collectionVariables.set("authToken", response.access_token);
}
```
